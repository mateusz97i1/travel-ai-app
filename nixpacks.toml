[build]
plan = "python_3_10"

[phases.install]
commands = [
    "python3 -m venv /opt/venv",
    ". /opt/venv/bin/activate",
    "pip install --upgrade pip",
    "pip install -r requirements.txt"
]

[phases.build]
commands = [
    ". /opt/venv/bin/activate",
    "python manage.py migrate",
    "python manage.py collectstatic --noinput"
]

[phases.start]
commands = [
    ". /opt/venv/bin/activate",
    "gunicorn travel_ai.wsgi:application --bind 0.0.0.0:$PORT"
]
