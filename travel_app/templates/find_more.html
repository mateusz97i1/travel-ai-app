{% load static tailwind_tags %}
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% tailwind_css %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
        @keyframes orbit1 {
            0% { transform: rotate(0deg) translateX(60px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(60px) rotate(-360deg); }
        }

        @keyframes orbit2 {
            0% { transform: rotate(0deg) translateX(40px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(40px) rotate(-360deg); }
        }

        @keyframes orbit3 {
            0% { transform: rotate(0deg) translateX(80px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
        }

        .animated-icon {
            filter: drop-shadow(0 0 6px rgba(11, 116, 220, 0.6));
            opacity: 0.9;
        }

        .orbit1 {
            top: 50%;
            left: 50%;
            transform-origin: center;
            animation: orbit1 6s linear infinite;
        }

        .orbit2 {
            top: 50%;
            left: 50%;
            transform-origin: center;
            animation: orbit2 4s linear infinite;
        }

        .orbit3 {
            top: 50%;
            left: 50%;
            transform-origin: center;
            animation: orbit3 8s linear infinite;
        }

        /* Burger to X animation styles */
        .burger-icon span {
            transition: all 0.3s ease-in-out;
        }

        .burger-icon.open span:nth-child(1) {
            transform: rotate(55deg) translate(5px, 5px);
        }

        .burger-icon.open span:nth-child(2) {
            opacity: 0;
        }

        .burger-icon.open span:nth-child(3) {
            transform: rotate(-55deg) translate(5px, -5px);
        }
    </style>
</head>
<body class="min-h-screen font-roboto">
    
    <!-- #privacy policy banner -->
<section id="privacy_banner" class="fixed flex flex-col items-center justify-between w-11/12 max-w-lg gap-4 p-4 text-white transform -translate-x-1/2 bg-black rounded-lg shadow-lg bottom-4 left-1/2 sm:flex-row">
  <p class="text-sm">
    We use cookies to improve your experience. By continuing, you agree to our 
    <a href="{% url 'travel_app:privacy_policy' %}" class="underline">Privacy Policy</a>.
  </p>
  <div class="flex gap-2">
    <button id="conscent" class="px-4 py-2 text-sm transition rounded-full bg-slate-950 hover:bg-slate-800">Consent</button>
    <button id="decline" class="px-4 py-2 text-sm transition rounded-full bg-slate-950 hover:bg-slate-800">Decline</button>
  </div>
</section>
  
        
    <header class="flex justify-between items-center px-6 text-center bg-slate-600 h-[10vh] min-h-[60px] max-h-[140px] ">
        <h1 class="text-5xl font-bold text-transparent bg-gradient-to-r to-blue-400 from-indigo-500 bg-clip-text">
            <a href="{% url 'travel_app:home' %}" class="no-underline cursor-pointer text-inherit">TravelAI</a>
        </h1>
        <button id="burger" class="flex flex-col space-y-1.5 burger-icon z-[100]">
            <span class="w-6 h-0.5 bg-white"></span>
            <span class="w-6 h-0.5 bg-white"></span>
            <span class="w-6 h-0.5 bg-white"></span>
        </button>
    </header>

    <div id="mobile-menu" class="fixed top-0 right-0 z-50 w-full h-full transition-transform duration-500 ease-in-out transform translate-x-full bg-slate-800 bg-opacity-95 lg:w-1/3">
        <div class="flex flex-col items-center justify-center h-full space-y-8 text-white">
            <a href="{% url 'travel_app:home' %}" class="text-2xl font-semibold transition-colors duration-300 hover:text-blue-400">Home</a>
            <a href="{% url 'travel_app:find_more' %}" class="text-2xl font-semibold transition-colors duration-300 hover:text-blue-400">Generate Plan</a>
                    <a href="{% url 'travel_app:about' %}" class="text-2xl font-semibold transition-colors duration-300 hover:text-blue-400">About</a>
                    <a href="{% url 'travel_app:privacy_policy' %}" class="text-2xl font-semibold transition-colors duration-300 hover:text-blue-400">Privacy Policy</a>
            <a href="{% url 'travel_app:contact' %}" class="text-2xl font-semibold transition-colors duration-300 hover:text-blue-400">Contact & Support</a>
        </div>
    </div>
    {% block banner %}
        
     
    <div class="pt-12 text-center ">
        <p class="text-xl italic font-bold text-gray-700 text-">Plan your perfect trip in just a few clicks!</p>
    </div>

    <div class="flex flex-col w-full p-6 mt-10 space-y-6 shadow-md xl:w-3/4 place-self-center rounded-xl ">
        <h2 class="text-2xl font-bold text-gray-800">Destination</h2>
        <form method="POST" id="trip-form" class="flex flex-col">
            {% csrf_token %}
            <div>
                <label for="time_span" class="block mb-1 text-sm font-medium text-gray-700">Time span</label>
                <select name="time_span" id="time_span" onchange="updateCities()" class="block w-full p-2 border border-gray-300 rounded-md">
                    {% for period in vacation_time_span %}
                    <option value="{{ period }}" {% if vacation_time_span == period %}selected{% endif %}>{{ period }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label for="country" class="block mb-1 text-sm font-medium text-gray-700">Country</label>
                <select name="country" id="country" onchange="updateCities()" class="block w-full p-2 border border-gray-300 rounded-md">
                    {% for country in name %}
                    <option value="{{ country }}" {% if selected_country == country %}selected{% endif %}>{{ country }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mt-4">
                <label for="city" class="block mb-1 text-sm font-medium text-gray-700">City</label>
                <select name="city" id="city" class="block w-full p-2 border border-gray-300 rounded-md">
                    </select>
            </div>
            <div class="flex flex-col self-center w-full mt-6">
                <button type="submit" class="self-center w-2/3 px-4 py-2 font-bold bg-transparent border shadow-lg rounded-2xl border-white/20 bg-opacity-15 hover:bg-slate-50">Plan âœ¨</button>
            </div>
        </form>
    </div>

    {{ name|json_script:"country-data" }}
    
    <div id="loading" class="flex flex-col items-center justify-center hidden mt-12 ">
        <p class="text-lg font-semibold text-gray-700 animate-pulse">Planning your dream trip... </p>
        <div class="relative w-48 h-48">
            <img src="{% static 'images/star-no-bg.png' %}" alt="" class="absolute animated-icon orbit orbit1">
            <img src="{% static 'images/star-no-bg.png' %}" alt="" class="absolute animated-icon orbit orbit2">
            <img src="{% static 'images/star-no-bg.png' %}" alt="" class="absolute animated-icon orbit orbit3">
        </div>
    </div>
    
    <footer class="flex flex-col items-center justify-between w-full min-h-screen gap-4 px-6 py-6" id="footer-content">
    </footer>

     {% endblock banner %}


<footer class="flex flex-col items-center justify-between w-full gap-4 px-6 py-6 text-white md:flex-row bg-slate-900">
  
  <!-- Logo & Branding -->
  <div class="flex flex-col items-center space-x-3">
    
      <div class="flex items-center space-x-3">

            <img src="{% static 'images/chatgpt_logo_white.png' %}" alt="ChatGPT Logo" class="w-10 h-10 rounded-full">
            <span class="text-lg font-semibold">Powered by ChatGPT API</span>

      </div>
      
      <div class="pt-4 text-sm text-gray-400 ">

            &copy; 2025 TravelAI. All rights reserved.

      </div>

  </div>
 <!-- Optional links or credits -->
  <!-- Privacy Policy Link -->
    <div class="flex flex-col text-sm text-gray-400">
        <a href="{% url 'travel_app:about' %}" class="font-semibold transition-colors duration-300 hover:text-blue-400">About</a>
        <a href="{% url 'travel_app:privacy_policy' %}" class="font-semibold transition-colors duration-300 hover:text-blue-400">Privacy Policy</a>
        <a href="{% url 'travel_app:contact' %}" class="font-semibold transition-colors duration-300 hover:text-blue-400">Contact & Support</a>  
    </div>
 
</footer>
<!-- burger menu script -->
 <script>
        const burgerBtn = document.getElementById('burger');
        const mobileMenu = document.getElementById('mobile-menu');
        
    
        burgerBtn.addEventListener('click', () => {
            // Toggle the 'open' class to trigger the CSS animation
            burgerBtn.classList.toggle('open');
            document.body.classList.toggle('overflow-hidden')
            
    
            // Toggle Tailwind classes for menu slide-in/out effect
            mobileMenu.classList.toggle('translate-x-full');
            mobileMenu.classList.toggle('translate-x-0');
        });
// hide burger menu when cicked outside the object
        document.addEventListener('click',(e)=>{
            const is_clicked_inside_menu=mobileMenu.contains(e.target)
            const is_Click_On_x = burgerBtn.contains(e.target);
            
            if(!is_clicked_inside_menu & !is_Click_On_x & mobileMenu.classList.contains('translate-x-0')){
                burgerBtn.classList.remove('open');
        
            mobileMenu.classList.toggle('translate-x-full');
            mobileMenu.classList.toggle('translate-x-0');
            document.body.classList.toggle('overflow-hidden')
            }


        });
    </script>
    <!-- select option menu generated list -->
    <script src="{% static 'js/select_menu.js' %}"></script>
    <!-- AI "thinking" animation -->
    <script src="{% static 'js/loading_ai_effect.js' %}"></script>

    <!-- concent & decline button script privact policy -->
<script>
    const consentButton = document.getElementById('conscent');
    const declineButton = document.getElementById('decline');

    const stored_Consent = localStorage.getItem('user_consent');
    if (stored_Consent==='true' ) {
        document.getElementById('privacy_banner').style.display = 'none';
    }

    consentButton.addEventListener('click', () => {
        document.getElementById('privacy_banner').style.display = 'none';
        localStorage.setItem('user_consent', 'true');
    });   

    declineButton.addEventListener('click', () => {
        document.getElementById('privacy_banner').style.display = 'none';
        localStorage.setItem('user_consent', 'false');
        
    });

</script>


</body>
</html>